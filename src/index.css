@import "tailwindcss";
@layer base {
  :root {
    color-scheme: dark;
  }

  html,
  body,
  #root {
    height: 100%;
  }

  body {
    @apply bg-black text-white antialiased;
  }
}

@layer components {
  .glass-panel {
    @apply bg-white/10 backdrop-blur-xl border border-white/15 shadow-xl;
  }

  .pill {
    @apply rounded-full px-3 py-1 text-xs font-medium uppercase tracking-widest;
  }

  /* Conteneur scroll Balade : 100dvh, scroll snap type TikTok/Reels */
  .balade-scroll-container {
    height: 100dvh;
    overflow-y: scroll;
    overflow-x: hidden;
    scroll-snap-type: y mandatory;
    scroll-snap-stop: always;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Chaque slide : exactement 100dvh, snap align start */
  .balade-slide {
    position: relative;
    height: 100dvh;
    scroll-snap-align: start;
    scroll-snap-stop: always;
    flex-shrink: 0;
  }

  .safe-area-top {
    padding-top: max(env(safe-area-inset-top), 40px);
  }

  .safe-area-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }

  /* Barre noire fixe tout en bas : hauteur + safe area iPhone */
  .balade-nav-bar {
    min-height: 72px;
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Text-shadow pour titre/description en overlay */
  .balade-overlay-text {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8), 0 2px 8px rgba(0, 0, 0, 0.6);
  }

  /* Dégradé bas d’image pour lisibilité du texte (≈ 30 % hauteur) */
  .balade-gradient-bottom {
    background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, transparent 100%);
    height: 120px;
    min-height: 120px;
  }

  /* Overlay texte Balade : ancré en bas du slide, au-dessus de l’image, sans déborder */
  /* Overlay description : au-dessus de l’image, dégradé transparent type Reels */
  .balade-overlay-bottom {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 120px 20px 100px 20px;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.4) 60%, transparent 100%);
    color: white;
    z-index: 10;
    overflow: hidden;
  }

  /* Description limitée à 3 lignes avec ellipsis, ne pousse jamais les boutons */
  .balade-description-clamp {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Zone des boutons Balade : entre notch (haut) et barre de navigation (bas) */
  .balade-actions-safe {
    top: max(env(safe-area-inset-top), 3rem);
    bottom: max(env(safe-area-inset-bottom), 7rem);
  }
}

